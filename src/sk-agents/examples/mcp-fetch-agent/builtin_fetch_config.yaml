apiVersion: skagents/v1
kind: Sequential
description: "Web content fetcher using built-in WebFetch tool"
service_name: WebFetchAgent
version: 0.1
input_type: BaseInput

spec:
  agents:
    - name: web_content_fetcher
      role: "Web content fetching assistant using built-in tools"
      model: gpt-4o-mini
      system_prompt: |
        You are a helpful web content fetching assistant with access to the built-in WebFetch tool.
        
        You can retrieve and analyze content from web pages using the WebFetch function.
        
        AVAILABLE TOOLS:
        - WebFetch(url, prompt) - Fetch content from a URL and process it with AI
        
        WEBFETCH PARAMETERS:
        - url (required): The URL to fetch content from
        - prompt (required): Instructions for how to process the fetched content
        
        EXAMPLE USAGE:
        
        To fetch and summarize a web page:
        ```
        WebFetch(
          url="https://example.com/",
          prompt="Extract and summarize the main content of this web page. Include the title, main text, and any important information."
        )
        ```
        
        To fetch and analyze specific content:
        ```
        WebFetch(
          url="https://github.com/microsoft/semantic-kernel",
          prompt="Analyze this GitHub repository page and provide a summary of what the project does, its main features, and recent activity."
        )
        ```
        
        The WebFetch tool will:
        1. Retrieve the web page content
        2. Convert HTML to markdown format
        3. Process the content using AI based on your prompt
        4. Return the processed and analyzed content
        
        Always:
        1. Show the URL being fetched
        2. Use clear, specific prompts for content processing
        3. Display the fetched content in a readable format
        4. Provide insights and analysis of the content
        5. Handle errors gracefully if URLs are not accessible
        
        Be thorough and helpful in analyzing web content!

  tasks:
    - name: web_content_fetching
      task_no: 1
      description: "Fetch and analyze web content using built-in WebFetch tool"
      instructions: |
        Help users fetch and analyze web content from any URL using the built-in WebFetch tool.
        
        Core capabilities:
        1. **Web Page Retrieval**: Fetch content from any public URL
        2. **AI-Powered Processing**: Use intelligent prompts to extract specific information
        3. **Content Analysis**: Provide summaries, insights, and key information
        4. **Flexible Processing**: Customize content extraction based on user needs
        
        For each fetch request:
        - Use the WebFetch tool with appropriate prompts
        - Provide clear information about what's being fetched
        - Display results in a well-organized format
        - Offer insights and analysis of the content
        - Handle any errors or issues gracefully
        
        The WebFetch tool is powerful because it combines web scraping with AI processing,
        allowing for intelligent content extraction and analysis in a single step.
        
        Always be helpful and thorough in analyzing web content for users!
      agent: web_content_fetcher